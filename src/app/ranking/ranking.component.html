<app-navbar></app-navbar>
<div>
  <div class="container-lg">
    <h1 class="title-table mt-5">Ranking the best streamers around World</h1>
    <p>
      We use huge amounts of data to get the list of the best and most
      successful Twitch Streamers from all over the world.
    </p>
  </div>
  <div class="container">
    <div class="row">
      <div class="col">
        <table
          id="tablaStreamers"
          class="table table-striped mt-5"
          style="width: 100%"
        >
          <thead>
            <tr>
              <th>Name</th>
              <th></th>
              <th>AVG viewer</th>
              <th>Time Streamed (hours)</th>
              <th>All time peak viewers</th>
              <th>Hours watched</th>
              <th>Rank</th>
              <th>Followers gained</th>
              <th>Total Followers</th>
              <th>Total Subscribers (now)</th>
              <th>Total viewer</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>
  </div>

  <script
    type="text/javascript"
    language="javascript"
    src="https://code.jquery.com/jquery-3.5.1.js"
  ></script>
  <script
    type="text/javascript"
    language="javascript"
    src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js"
  ></script>

  <script
    type="text/javascript"
    language="javascript"
    src="https://cdn.datatables.net/1.10.22/js/dataTables.bootstrap5.min.js"
  ></script>

  <script>
    $(document).ready(function () {
      var url = "http://localhost:3000/api/articulos";

      $("#top100streamers").DataTable({
        ajax: {
          url: url,
          dataSrc: "",
        },
        columns: [
          { data: "name" },
          { data: "avg_viewers" },
          { data: "time_streamed_hours" },
          { data: "all_time_peak_viewers" },
          { data: "hours_watched" },
          { data: "rank" },
          { data: "followers_gained" },
          { data: "total_followers" },
          { data: "total_viewers" },
        ],
        columnDefs: [
          {
            targets: [2],
            render(v) {
              return Number(v).toFixed(2);
            },
          },
        ],
      });
    });
  </script>
</div>
